class FileCalculator extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      file: ""
    };
  }
  
  loadFile(event){
    
//    this.setState({output:this.parseFile()});
    alert("it works!");
    var input, file, fr;

    input = document.getElementById('fileinput');
    
    if (!input.files[0]) {
      alert("Please select a file before clicking 'Load'");
    }
    else {
      alert("in else!")
      file = input.files[0];
      // alert(file);
      // var jFile = JSON.parse(file);
      // alert(jFile);
      fr = new FileReader();
      fr.onload = function(event)
      {
        alert(event.target.result);
      };
      fr.readAsText(file);
      
    }
  }

  parseFile(){
    return 1;
    var input, file, fr;

    input = document.getElementById('fileinput');
    
    if (!input.files[0]) {
      alert("Please select a file before clicking 'Load'");
    }
    else {
      file = input.files[0];
      fr = new FileReader();
      fr.onload = receivedText;
      fr.readAsText(file);
    }
  }
  
  receivedText(e) {
      lines = e.target.result;
      //alert(lines);
      //var newArr = JSON.stringify(lines); 
      var newArr = JSON.parse(lines); 
      //var theKey = "id";
      alert(lines);
    
  
  }

  render() {
    return (
      <div>
        <input type="file" id="fileinput" />
        <button className="btn btn-primary mr-sm-2" id='btnLoad' value='Load' onClick={this.loadFile}>Ok</button>
        
      </div>
    );
  }
}
